<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantUML Renderer</title>
    <link rel="stylesheet" href="/css/portal.css">
    <link rel="stylesheet" href="/css/render.css">
    <script src="/js/auth.js"></script>
    <script src="/js/sidebar.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Боковое меню (генерируется динамически через sidebar.js) -->
        <div id="sidebar-container"></div>

        <!-- Основной контент -->
        <main class="main-content">
            <div class="content-header">
                <h1>PlantUML Renderer</h1>
                <p>Введите код PlantUML для рендеринга диаграммы</p>
            </div>

            <div class="render-content">
            <div class="input-section">
                <label for="plantUmlInput">PlantUML код:</label>
                <textarea 
                    id="plantUmlInput" 
                    placeholder="Введите код PlantUML, например:&#10;@startuml&#10;Alice -> Bob: Hello&#10;@enduml"
                    rows="15"
                ></textarea>
                
                <div class="button-group">
                    <button id="renderButton" class="btn btn-primary">
                        <span class="btn-text">Отобразить диаграмму</span>
                        <span class="btn-loader" style="display: none;">
                            <span class="spinner"></span>
                            Рендеринг...
                        </span>
                    </button>
                    <button id="validateButton" class="btn btn-secondary">
                        Проверить синтаксис
                    </button>
                    <button id="clearButton" class="btn btn-outline">
                        Очистить
                    </button>
                </div>
            </div>

            <div id="statusMessage" class="status-message"></div>
            
            <!-- Блок для отображения результата валидации -->
            <div id="validationResult" class="validation-result" style="display: none;">
                <h3>Результат проверки синтаксиса</h3>
                <div id="validationDetails"></div>
            </div>
        </main>
    </div>

    <!-- Модальное окно для отображения диаграммы -->
    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Отрендеренная диаграмма</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="diagram-controls">
                    <button id="zoomIn" class="control-btn" title="Увеличить">
                        <span>+</span>
                    </button>
                    <button id="zoomOut" class="control-btn" title="Уменьшить">
                        <span>−</span>
                    </button>
                    <button id="resetZoom" class="control-btn" title="Оригинальный размер">
                        <span>⟲</span>
                    </button>
                    <button id="fullscreen" class="control-btn" title="Во весь экран">
                        <span>⛶</span>
                    </button>
                </div>
                <div id="diagramContainer">
                    <!-- Здесь будет отображена диаграмма -->
                </div>
            </div>
            <div class="modal-footer">
                <div class="footer-left">
                    <span id="zoomLevel" class="zoom-indicator">100%</span>
                </div>
                <div class="footer-right">
                    <button id="downloadPng" class="btn btn-primary">Скачать PNG</button>
                    <button id="downloadSvg" class="btn btn-secondary">Скачать SVG</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/render.js"></script>
</body>
</html>

